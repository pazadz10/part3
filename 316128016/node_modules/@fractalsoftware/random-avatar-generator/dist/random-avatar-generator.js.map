{"version":3,"file":"random-avatar-generator.js","mappings":"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","sources":["webpack://randomAvatarGenerator/webpack/universalModuleDefinition","webpack://randomAvatarGenerator/webpack/bootstrap","webpack://randomAvatarGenerator/webpack/runtime/define property getters","webpack://randomAvatarGenerator/webpack/runtime/hasOwnProperty shorthand","webpack://randomAvatarGenerator/webpack/runtime/make namespace object","webpack://randomAvatarGenerator/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"randomAvatarGenerator\"] = factory();\n\telse\n\t\troot[\"randomAvatarGenerator\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function decToHexColor(colorNumber) {\n  return `${colorNumber.toString(16).padStart(6, '0')}`;\n}\n\nfunction getBinaryList(number, size) {\n  return number.toString(2)\n    .padStart(size, '0')\n    .split('');\n}\n\nfunction parseAvatarData(data, separator) {\n  const ret = {\n    xAxis: 0,\n    yAxis: 0,\n    colorMap: []\n  };\n\n  if (!data) {\n    return ret;\n  }\n\n  data.split(separator).forEach((element, index) => {\n    let intVal = parseInt(element, 36);\n\n    switch (index) {\n      case 0:\n        ret.xAxis = intVal;\n        break;\n      case 1:\n        ret.yAxis = intVal;\n        break;\n\n      default:\n        ret.colorMap.push(decToHexColor(intVal));\n        break;\n    }\n  });\n\n  return ret;\n}\n\nexport function generateRandomAvatarData(complexity = 16, avatarDataSeparator = '-') {\n  const xAxis = Math.floor(Math.random() * Math.pow(2, complexity - 1));\n  const yAxis = Math.floor(Math.random() * (Math.pow(2, complexity) - 1)) + 1;\n\n  const rows = getBinaryList(yAxis, complexity);\n  let ret = `${xAxis.toString(36)}${avatarDataSeparator}${yAxis.toString(36)}`;\n  let color;\n\n  rows.forEach(() => {\n    color = Math.floor(Math.random() * 16777215);\n    ret += `${avatarDataSeparator}${color.toString(36)}`;\n  });\n\n  return ret;\n}\n\nexport function getAvatarFromData(avatarData, renderMethod = 'square', size = 256, avatarDataSeparator = '-') {\n  const { xAxis, yAxis, colorMap } = parseAvatarData(avatarData, avatarDataSeparator);\n  const complexity = colorMap.length;\n  const resolution = Math.floor(size / complexity);\n\n  if (complexity < 1 || xAxis >= Math.pow(2, complexity)) {\n    throw Error('Incorrect avatar data');\n  }\n\n  let renderProcess = (resolution, indexX, indexY) => `M${indexX * resolution},${indexY * resolution} h${resolution} v${resolution} h${0 - resolution}Z`;\n\n  if (renderMethod === 'circle') {\n    renderProcess = (resolution, indexX, indexY) => {\n      const radius = resolution / 2;\n      return `M${indexX * resolution},${(indexY * resolution) + radius} a${radius} ${radius} 0 1,1 ${resolution},0 a${radius} ${radius} 0 1,1 -${resolution},0`;\n    }\n  } else if (typeof renderMethod === 'function') {\n    renderProcess = renderMethod;\n  }\n\n  const rows = getBinaryList(yAxis, complexity);\n  const cols = getBinaryList(xAxis, complexity);\n  let ret = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 ${size} ${size}\">`;\n\n  rows.forEach((rowItem, indexY) => {\n    let draw = [];\n    cols.forEach((colItem, indexX) => {\n      if (parseInt(rowItem, 10) ^ parseInt(colItem, 10)) {\n        draw.push(renderProcess(resolution, indexX, indexY));\n      }\n    });\n    ret += `<path fill=\"#${colorMap[indexY]}\" d=\"${draw.join(' ')}\"/>`;\n  });\n\n  return `${ret}</svg>`;\n}\n\nexport function getRandomAvatar(complexity = 16, renderMethod = 'square', size = 256) {\n  let avatarData = generateRandomAvatarData(complexity);\n  return getAvatarFromData(avatarData, renderMethod, size);\n}\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","getBinaryList","number","size","toString","padStart","split","parseAvatarData","data","separator","ret","xAxis","yAxis","colorMap","forEach","element","index","intVal","parseInt","push","generateRandomAvatarData","color","complexity","avatarDataSeparator","Math","floor","random","pow","rows","getAvatarFromData","avatarData","renderMethod","length","resolution","Error","renderProcess","indexX","indexY","radius","cols","rowItem","draw","colItem","join","getRandomAvatar"],"sourceRoot":""}